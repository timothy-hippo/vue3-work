{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/views/UserCart.vue","webpack:///./src/views/UserCart.vue?6ec1","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","class","style","colspan","for","active","isLoading","cart","carts","item","id","type","disabled","status","loadingItem","removeCartItem","product","title","coupon","min","qty","updateCart","unit","final_total","total","$filters","currency","coupon_code","placeholder","addCouponCode","createOrder","form","errors","name","rules","user","email","isPhone","tel","address","cols","rows","message","data","products","inject","created","this","getProducts","getCart","methods","api","axios","get","then","res","getProduct","$router","delete","$pushMessageState","cartData","product_id","put","post","code","isNew","success","orderId","phoneNumber","test","__exports__","render","$","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","stat","forced","it","DESCRIPTORS","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","sham","descriptor","O","f","result","index","undefined","nativeGetOwnPropertyDescriptor","FORCED"],"mappings":"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","file":"js/chunk-378034bd.caf5493b.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"container\">\r\n    <div class=\"mt-4 row justify-content-center\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"sticky-top\">\r\n          <table class=\"table align-middle\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>品名</th>\r\n                <th style=\"width: 110px\">數量</th>\r\n                <th>單價</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <template v-if=\"cart.carts\">\r\n                <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n                  <td>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-outline-danger btn-sm\"\r\n                      :disabled=\"status.loadingItem === item.id\"\r\n                      @click=\"removeCartItem(item.id)\"\r\n                    >\r\n                      <i class=\"bi bi-x\"></i>\r\n                    </button>\r\n                  </td>\r\n                  <td>\r\n                    {{ item.product.title }}\r\n                    <div class=\"text-success\" v-if=\"item.coupon\">\r\n                      已套用優惠券\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"input-group input-group-sm\">\r\n                      <input\r\n                        type=\"number\"\r\n                        class=\"form-control\"\r\n                        min=\"1\"\r\n                        v-model.number=\"item.qty\"\r\n                        @change=\"updateCart(item)\"\r\n                        :disabled=\"status.loadingItem === item.id\"\r\n                      />\r\n                      <div class=\"input-group-text\">\r\n                        / {{ item.product.unit }}\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td class=\"text-end\">\r\n                    <small\r\n                      v-if=\"cart.final_total !== cart.total\"\r\n                      class=\"text-success\"\r\n                      >折扣價：</small\r\n                    >\r\n                    {{ $filters.currency(item.final_total) }}\r\n                  </td>\r\n                </tr>\r\n              </template>\r\n            </tbody>\r\n            <tfoot>\r\n              <tr>\r\n                <td colspan=\"3\" class=\"text-end\">總計</td>\r\n                <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\r\n              </tr>\r\n              <tr v-if=\"cart.final_total !== cart.total\">\r\n                <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n                <td class=\"text-end text-success\">\r\n                  {{ $filters.currency(cart.final_total) }}\r\n                </td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n          <div class=\"input-group mb-3 input-group-sm\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              v-model=\"coupon_code\"\r\n              placeholder=\"請輸入優惠碼\"\r\n            />\r\n            <div class=\"input-group-append\">\r\n              <button\r\n                class=\"btn btn-outline-secondary\"\r\n                type=\"button\"\r\n                @click=\"addCouponCode(coupon_code)\"\r\n              >\r\n                套用優惠碼\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"my-5 row justify-content-center\">\r\n      <Form class=\"col-md-6\" v-slot=\"{ errors }\" @submit=\"createOrder(form)\">\r\n        <div class=\"mb-3\">\r\n          <label for=\"email\" class=\"form-label\">Email</label>\r\n          <Field\r\n            id=\"email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['email'] }\"\r\n            placeholder=\"請輸入 Email\"\r\n            rules=\"email|required\"\r\n            v-model=\"form.user.email\"\r\n          ></Field>\r\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n          <Field\r\n            id=\"name\"\r\n            name=\"姓名\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n            placeholder=\"請輸入姓名\"\r\n            rules=\"required\"\r\n            v-model=\"form.user.name\"\r\n          ></Field>\r\n          <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n          <Field\r\n            id=\"tel\"\r\n            name=\"電話\"\r\n            type=\"tel\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['電話'] }\"\r\n            placeholder=\"請輸入電話\"\r\n            :rules=\"isPhone\"\r\n            v-model=\"form.user.tel\"\r\n          ></Field>\r\n          <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n          <Field\r\n            id=\"address\"\r\n            name=\"地址\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['地址'] }\"\r\n            placeholder=\"請輸入地址\"\r\n            rules=\"required\"\r\n            v-model=\"form.user.address\"\r\n          ></Field>\r\n          <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"message\" class=\"form-label\">留言</label>\r\n          <textarea\r\n            name=\"\"\r\n            id=\"message\"\r\n            class=\"form-control\"\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n            v-model=\"form.message\"\r\n          ></textarea>\r\n        </div>\r\n        <div class=\"text-end\">\r\n          <button class=\"btn btn-danger\">送出訂單</button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      products: [],\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      cart: {},\r\n      coupon_code: '',\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        }\r\n      },\r\n      message: ''\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  created () {\r\n    this.getProducts()\r\n    this.getCart()\r\n  },\r\n  methods: {\r\n    getProducts () {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.axios.get(api).then((res) => {\r\n        this.products = [...res.data.products]\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    getProduct (id) {\r\n      this.$router.push(`/user/product/${id}`)\r\n    },\r\n    getCart () {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.axios.get(api).then((res) => {\r\n        // console.log(res.data)\r\n        this.cart = { ...res.data.data }\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    removeCartItem (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.axios.delete(api).then((res) => {\r\n        // console.log(res.data)\r\n        this.getCart()\r\n        this.$pushMessageState(res.data)\r\n      })\r\n    },\r\n    updateCart (item) {\r\n      // console.log(item)\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      const cartData = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      this.isLoading = true\r\n      this.status.loadingItem = item.id\r\n      this.axios.put(api, { data: cartData }).then((res) => {\r\n        // console.log(res.data)\r\n        this.isLoading = false\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n        this.$pushMessageState(res.data)\r\n      })\r\n    },\r\n    addCouponCode (coupon) {\r\n      // console.log(coupon)\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      this.axios.post(api, { data: { code: coupon } }).then((res) => {\r\n        // console.log(res.data)\r\n        this.isLoading = false\r\n        this.coupon_code = ''\r\n        this.getCart()\r\n        this.$pushMessageState(res.data)\r\n      })\r\n    },\r\n    createOrder (form) {\r\n      // console.log(form)\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      this.axios.post(api, { data: form }).then((res) => {\r\n        this.$pushMessageState(res.data, this.isNew ? '新增' : '更新')\r\n        if (res.data.success) {\r\n          this.$router.push(`/user/checkout/${res.data.orderId}`)\r\n        }\r\n      })\r\n    },\r\n    isPhone (value) {\r\n      if (!value) {\r\n        return '電話號碼 為必填'\r\n      }\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼'\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCart.vue?vue&type=template&id=14726b9c\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\vue3-work\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n"],"sourceRoot":""}